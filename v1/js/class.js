/*Obfuscated by JShaman.com*/import{lerp16}from'./math.js';import*as _0x194b26 from'./three.module.js';export class Game{['abilityLib']=[];['familyLib']=[];['babeLib']=[];['config'];['scene'];['camera'];['renderer'];['coordinate'];constructor(){console['log']('abilityLib\x20created');this['coordinate']=new coordinate();}['regAbility'](_0x5521e4){this['abilityLib']['push'](_0x5521e4);}['findFamilyByName'](_0x58deb9){return this['familyLib']['find'](_0x163e5b=>{return _0x163e5b['name']==_0x58deb9;});}['findAbilityByName'](_0x45f2b3){let _0x48a76d=this['abilityLib']['find'](_0x328800=>{return _0x328800['name']==_0x45f2b3;});if(_0x48a76d==undefined){console['log']('failed\x20to\x20find\x20the\x20given\x20ability');return-(0xa6f66^0xa6f67);}else{return _0x48a76d;}}['init'](){this['scene']=new _0x194b26['Scene']();let _0x444d58=0x71a73^0x71a6a;const _0x58cee3=window['innerWidth']/window['innerHeight'];this['camera']=new _0x194b26['OrthographicCamera'](_0x444d58*_0x58cee3/-(0x5127b^0x51279),_0x444d58*_0x58cee3/(0x55451^0x55453),_0x444d58/(0xd2490^0xd2492),_0x444d58/-(0xb3832^0xb3830),0xaea4f^0xaea4e,0x2217b^0x22293);this['camera']['position']['set'](0xc4eaf^0xc4eaf,0x2d8cd^0x2d8c7,0x0);this['camera']['up']['set'](0x0,0xeac4c^0xeac4c,0x716e3^0x716e2);this['camera']['lookAt'](new _0x194b26['Vector3'](0x0,0x0,0x0));this['renderer']=new _0x194b26['WebGLRenderer']({'antialias':!![]});this['renderer']['setSize'](window['innerWidth'],window['innerHeight']);document['body']['appendChild'](this['renderer']['domElement']);const _0xa9117e=0x490cd^0x490dd;const _0x155dc3=0xab659^0xab649;const _0x5ecbad=new _0x194b26['GridHelper'](_0xa9117e,_0x155dc3);this['scene']['add'](_0x5ecbad);}['animate'](){requestAnimationFrame(this['animate']['bind'](this));this['renderer']['render'](this['scene'],this['camera']);}['keyEvent'](){window['onkeydown']=_0x3373ea=>{let _0x2c04b5=0.5;if(_0x3373ea['key']=='w'){this['camera']['position']['z']+=_0x2c04b5;}if(_0x3373ea['key']=='s'){this['camera']['position']['z']-=_0x2c04b5;}if(_0x3373ea['key']=='a'){this['camera']['position']['x']+=_0x2c04b5;}if(_0x3373ea['key']=='d'){this['camera']['position']['x']-=_0x2c04b5;}if(_0x3373ea['key']=='\x20'){this['nextRound']();_0x3373ea['preventDefault']();}};document['addEventListener']('click',()=>{this['nextRound']();});}['nextRound'](){for(let _0x3873e7 in this['babeLib']){this['babeLib'][_0x3873e7]['update']();this['babeLib'][_0x3873e7]['genChild']();}game['babeLib']=game['babeLib']['filter'](_0x40774b=>{return _0x40774b['age']<_0x40774b['max_age']+0x1;});}['start'](_0x22ff9e){this['init']();this['config']=_0x22ff9e||{'birthRate':0.4,'maxMember':0x64};this['familyLib']['push'](new family(this['config']));game['familyLib'][0x0]['familyAbilities']['push'](this['findAbilityByName']('lifeImprove'));game['familyLib'][0x82155^0x82155]['birth']();this['keyEvent']();this['animate']();}}class Babe{['age'];['max_age']=0x3;['family'];['location'];['cube'];['color'];['abilities'];['birthRate'];constructor(_0x1f9d08,_0x28c12a){this['age']=0x516bc^0x516bc;this['family']=_0x1f9d08;this['abilities']=this['inheritAbilitiesFromFamily']();for(let _0x1336be in this['abilities']){this['abilities'][_0x1336be]['method'](this);}this['color']=lerp16(0xff00,0xff0000,this['max_age']+(0x5e3da^0x5e3db));this['birthRate']=game['findFamilyByName'](_0x1f9d08)?.['birthRate'];let _0x1f9c91=new _0x194b26['BoxGeometry'](0x50ad4^0x50ad5,0x4d906^0x4d907,0x1);let _0x24f7a8=new _0x194b26['MeshBasicMaterial']({'color':this['color'][this['age']]});this['cube']=new _0x194b26['Mesh'](_0x1f9c91,_0x24f7a8);let _0x2f310b=_0x28c12a['x'];let _0x21612c=_0x28c12a['y'];this['location']={'x':_0x2f310b,'y':_0x21612c};game['coordinate']['set']({'x':_0x2f310b,'y':_0x21612c},0x1);this['cube']['position']['set'](_0x2f310b-0.5,0x994b6^0x994b6,_0x21612c+0.5);game['scene']['add'](this['cube']);this['cube']['material']['color']['set'](this['color'][this['age']]);}['genCube'](){if(!this['age']){let _0x3a7286=Math['floor'](Math['random']()*0xa);let _0x52c970=Math['floor'](Math['random']()*0xa);this['location']={'x':_0x3a7286,'y':_0x52c970};game['coordinate']['set']({'x':_0x3a7286,'y':_0x52c970},0xa7de2^0xa7de3);this['cube']['position']['set'](_0x3a7286-0.5,0x0,_0x52c970+0.5);game['scene']['add'](this['cube']);this['age']=0x8c2fd^0x8c2fd;}}['mutate'](){if(Math['random']()){for(let _0x4d1588 in game['abilityLib']){if(Math['random']()<=game['abilityLib'][_0x4d1588]['probability']){console['log']('mutated');if(this['abilities']['filter'](_0x1e99bb=>{return _0x1e99bb==game['abilityLib'][_0x4d1588];})['length']==0x1){console['log'](game['abilityLib'][_0x4d1588]['name']);}}}}}['update'](){this['age']++;this['cube']['material']['color']['set'](this['color'][this['age']]);if(this['age']>=this['max_age']+0x1){this['cube']['visible']=![];game['coordinate']['set'](this['location'],0x0);game['scene']['children']=game['scene']['children']['filter'](_0x1a9b6d=>{return _0x1a9b6d!=this['cube'];});}this['mutate']();}['genChild'](){let _0x31ee2e=this['location']['x'];let _0x3ea146=this['location']['y'];if(this['age']>this['max_age']-(0x4b5be^0x4b5bf)||this['age']<0x1){return;}if(game['coordinate']['isEmpty']({'x':_0x31ee2e+0x1,'y':_0x3ea146})&&Math['random']()<=this['birthRate']&&game['babeLib']['length']<=game['findFamilyByName'](this['family'])['maxMember']){game['babeLib']['push'](new Babe(this['family'],{'x':_0x31ee2e+0x1,'y':_0x3ea146}));}if(game['coordinate']['isEmpty']({'x':_0x31ee2e-0x1,'y':_0x3ea146})&&Math['random']()<=this['birthRate']&&game['babeLib']['length']<=game['findFamilyByName'](this['family'])['maxMember']){game['babeLib']['push'](new Babe(this['family'],{'x':_0x31ee2e-(0xecc69^0xecc68),'y':_0x3ea146}));}if(game['coordinate']['isEmpty']({'x':_0x31ee2e,'y':_0x3ea146+(0xe2ac6^0xe2ac7)})&&Math['random']()<=this['birthRate']&&game['babeLib']['length']<=game['findFamilyByName'](this['family'])['maxMember']){game['babeLib']['push'](new Babe(this['family'],{'x':_0x31ee2e,'y':_0x3ea146+0x1}));}if(game['coordinate']['isEmpty']({'x':_0x31ee2e,'y':_0x3ea146-0x1})&&Math['random']()<=this['birthRate']&&game['babeLib']['length']<=game['findFamilyByName'](this['family'])['maxMember']){game['babeLib']['push'](new Babe(this['family'],{'x':_0x31ee2e,'y':_0x3ea146-0x1}));}}['inheritAbilitiesFromFamily'](){return this['abilities']=game['findFamilyByName'](this['family'])?.['familyAbilities'];}}class family{['name'];['member'];['maxMember'];['familyAbilities']=[];['birthRate'];constructor(_0xa4235f){this['name']='f'+Math['floor'](Math['random']()*(0xb637a^0xb446a));this['birthRate']=_0xa4235f['birthRate'];this['member']=0x40707^0x40707;this['maxMember']=_0xa4235f['maxMember'];console['log'](this['name']);}['birth'](){console['log']('birth\x20called');game['babeLib']['push'](new Babe(this['name'],{'x':0x0,'y':0x0}));}}class coordinate{['block']=[];constructor(){let _0x357540=new Array(0x10)['fill'](0xd5bf5^0xd5bf5);this['block']=new Array(0x2e1ae^0x2e0ae)['fill'](_0x357540);}['find'](_0x701ab4){let _0x549945,_0x33983e;let _0x356d62=0x80+_0x701ab4['x'];let _0xa9364c=Math['abs'](_0x701ab4['y']-(0xba10d^0xba18d));let _0x3de7cc=0x0,_0x37cf11=0x0;Math['ceil'](_0x356d62/(0xd8792^0xd8782))==(0x995e8^0x995e8)?_0x3de7cc=0xcaf96^0xcaf97:_0x3de7cc=Math['ceil'](_0x356d62/(0x2e4ed^0x2e4fd))-0x1;Math['ceil'](_0xa9364c/0x10)==0x0||Math['ceil'](_0xa9364c/0x10)==0x1?_0x37cf11=0x0:_0x37cf11=Math['ceil'](_0xa9364c/0x10)-0x1;let _0x38c377=_0x356d62%0x10;let _0x53c4de=_0xa9364c%(0x3d2b2^0x3d2a2);_0x549945=_0x37cf11*0x10+_0x3de7cc;_0x33983e=(0x10-_0x53c4de)*(0x42668^0x42678)+_0x38c377-0x1;return{'blockIndex':_0x549945,'index':_0x33983e};}['isEmpty'](_0x5156ef){let _0x59fa23=this['find'](_0x5156ef);return!this['block'][_0x59fa23['blockIndex']][_0x59fa23['index']];}['set'](_0x445e56,_0x407dc4){let _0x1ae68f=this['find'](_0x445e56);this['block'][_0x1ae68f['blockIndex']][_0x1ae68f['index']]=_0x407dc4;}}
